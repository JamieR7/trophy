<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB Sports MCQ Quiz</title>
    <style>
        :root {
            --color-primary: #004587;
            --color-primary-hover: #003570;
            --color-primary-active: #002a5a;
            --color-success: #fbba07;
            --color-error: #e73037;
            --color-warning: #F59E0B;
            --color-bg: #F8FAFB;
            --color-surface: #FFFFFF;
            --color-text: #1F2937;
            --color-text-secondary: #6B7280;
            --color-border: #E5E7EB;
            --radius-base: 8px;
            --radius-lg: 12px;
            --spacing-8: 8px;
            --spacing-12: 12px;
            --spacing-16: 16px;
            --spacing-24: 24px;
            --spacing-32: 32px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: var(--spacing-16);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 700px;
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: var(--spacing-32);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-24);
            border-bottom: 2px solid var(--color-border);
            padding-bottom: var(--spacing-16);
        }

        .header h1 {
            margin: 0;
            font-size: 28px;
            color: var(--color-text);
        }

        .stats {
            display: flex;
            gap: var(--spacing-16);
            font-size: 14px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            color: var(--color-text-secondary);
            font-size: 12px;
            margin-bottom: var(--spacing-8);
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--color-primary);
        }

        .stat-value.streak {
            color: var(--color-success);
        }

        .question-container {
            margin-bottom: var(--spacing-24);
        }

        .question-number {
            color: var(--color-text-secondary);
            font-size: 14px;
            margin-bottom: var(--spacing-8);
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: var(--spacing-16);
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-12);
        }

        .option {
            padding: var(--spacing-12) var(--spacing-16);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-surface);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
            text-align: left;
            color: var(--color-text);
        }

        .option:hover {
            border-color: var(--color-primary);
            background: #F0FFFE;
        }

        .option.selected {
            border-color: var(--color-primary);
            background: #E0FFFE;
            font-weight: 600;
        }

        .option.correct {
            border-color: var(--color-success);
            background: #DCFCE7;
            color: #166534;
        }

        .option.incorrect {
            border-color: var(--color-error);
            background: #FEE2E2;
            color: #991B1B;
        }

        .feedback {
            margin-top: var(--spacing-16);
            padding: var(--spacing-12) var(--spacing-16);
            border-radius: var(--radius-base);
            font-size: 14px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #DCFCE7;
            color: #166534;
            border-left: 4px solid var(--color-success);
        }

        .feedback.incorrect {
            background: #FEE2E2;
            color: #991B1B;
            border-left: 4px solid var(--color-error);
        }

        .button-group {
            display: flex;
            gap: var(--spacing-12);
            margin-top: var(--spacing-24);
        }

        .btn {
            flex: 1;
            padding: var(--spacing-12) var(--spacing-16);
            border: none;
            border-radius: var(--radius-base);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
        }

        .btn-primary:disabled {
            background: #D1D5DB;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: var(--color-border);
            color: var(--color-text);
        }

        .btn-secondary:hover {
            background: #D1D5DB;
        }

        .streak-milestone {
            background: linear-gradient(135deg, #fbba07 0%, #e73037 100%);
            border: 2px solid #004587;
            padding: var(--spacing-24);
            border-radius: var(--radius-lg);
            text-align: center;
            margin-bottom: var(--spacing-24);
        }

        .milestone-icon {
            font-size: 48px;
            margin-bottom: var(--spacing-12);
        }

        .milestone-text {
            font-size: 20px;
            font-weight: bold;
            color: #78350F;
            margin-bottom: var(--spacing-8);
        }

        .download-section {
            background: #EFF6FF;
            border: 2px solid #0EA5E9;
            padding: var(--spacing-16);
            border-radius: var(--radius-base);
            margin-top: var(--spacing-16);
        }

        .download-section h3 {
            margin: 0 0 var(--spacing-12) 0;
            color: #0369A1;
            font-size: 16px;
        }

        .download-buttons {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-8);
        }

        .btn-download {
            padding: var(--spacing-10) var(--spacing-16);
            background: #0EA5E9;
            color: white;
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            text-decoration: none;
            text-align: center;
        }

        .btn-download:hover {
            background: #0284C7;
        }

        .finish-screen {
            text-align: center;
        }

        .finish-screen h2 {
            font-size: 24px;
            color: var(--color-text);
            margin-bottom: var(--spacing-12);
        }

        .score-display {
            font-size: 36px;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: var(--spacing-24);
        }

        @media (max-width: 600px) {
            .container {
                padding: var(--spacing-16);
            }

            .header {
                flex-direction: column;
                gap: var(--spacing-16);
            }

            .button-group {
                flex-direction: column-reverse;
            }

            .stats {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>IB Sports MCQ</h1>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-label">Correct</div>
                    <div class="stat-value" id="correct-count">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Streak</div>
                    <div class="stat-value streak" id="streak-count">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Total</div>
                    <div class="stat-value" id="total-count">0</div>
                </div>
            </div>
        </div>

        <div id="quiz-content">
            <div class="question-container">
                <div class="question-number">Loading...</div>
                <div class="question-text">Initializing quiz...</div>
            </div>
        </div>
    </div>

    <script>
        const allQuestions = [
            { q: "Which defines diastolic blood pressure?", options: ["The force exerted on arterial walls during ventricular contraction", "The force exerted on arterial walls during ventricular relaxation", "The force exerted on venous walls during ventricular contraction", "The force exerted on venous walls during ventricular relaxation"], answer: 1 },
            { q: "What is the function of glucagon during fasting?", options: ["It stimulates the storage of lipids", "It stimulates the storage of glucose", "It stimulates the breakdown of glycogen", "It stimulates the breakdown of insulin"], answer: 2 },
            { q: "Which is a factor in delayed onset muscle soreness (DOMS)?", options: ["Lactic acid accumulation", "Concentric muscle contractions", "Inflammation of fibres", "Low-intensity exercises"], answer: 2 },
            { q: "Which increases the rate of ventilation?", options: ["Decreasing the airflow through the nose, larynx, trachea and bronchi to the alveoli", "Increasing the pressure in the thoracic cavity during expiration", "Increasing blood oxygen concentration during exercise", "Decreasing pH levels in the blood"], answer: 3 },
            { q: "During prolonged exercise, blood viscosity increases due to sweating, causing lower venous return and increased heart rate. What is this called?", options: ["Stroke volume response", "Cardiovascular drift", "Arterio-venous difference", "Maximal cardiac output"], answer: 1 },
            { q: "Which statement applies to glycogen?", options: ["Broken down in catabolic reactions in response to insulin", "Stored in the liver and muscles in response to glucagon", "Synthesized in catabolic reactions from fatty acids and glycerol", "Broken down in slow twitch (type I) muscle fibres in response to adrenaline"], answer: 3 },
            { q: "Which is the predominant energy system used when performing a high jump?", options: ["ATP-CP", "Lactic acid", "Aerobic glycolysis", "Aerobic lipolysis"], answer: 0 },
            { q: "What is the definition of systolic blood pressure?", options: ["The force exerted by the blood on arterial walls during ventricular relaxation", "The force exerted by the blood on venous walls during ventricular contraction", "The force exerted by blood on arterial walls during ventricular contraction", "The force exerted by blood on venous walls during ventricular relaxation"], answer: 2 },
            { q: "What factor causes insulin levels in the blood to increase?", options: ["Low levels of blood glucose", "Low levels of glycogen in the liver", "High levels of glycogen in the liver", "High levels of blood glucose"], answer: 3 },
            { q: "Which process occurs when blood glucose levels are decreased?", options: ["Glycolysis", "Lipolysis", "Glycogenolysis", "Glycogenesis"], answer: 2 },
            { q: "The radius and ulna articulate at the radioulnar joint. What is this type of joint?", options: ["Saddle", "Pivot", "Condyloid", "Gliding"], answer: 1 },
            { q: "What type of synovial joint is found at the base of the thumb?", options: ["Gliding", "Hinge", "Saddle", "Pivot"], answer: 2 },
            { q: "Which is the location of a hinge joint?", options: ["The medial end of the clavicle", "The proximal end of the femur", "The anterior end of the ribs", "The distal end of the femur"], answer: 3 },
            { q: "What is acceleration?", options: ["A change in velocity and direction", "A change in displacement", "A change in position from a starting point", "A change in linear momentum"], answer: 0 },
            { q: "Which is an example of Newton's second law of motion?", options: ["A ball is stationary on a penalty spot before it is kicked", "A ball will travel faster if greater force is applied by a racquet", "A ball applies a backward force on a racquet when it is hit", "Once kicked, a ball's acceleration is affected by gravity"], answer: 1 },
            { q: "Which represents the relationship between impulse, time and force?", options: ["Impulse is inversely proportional to time and proportional to force", "Impulse is proportional to time and inversely proportional to force", "Impulse is proportional to time and force", "Impulse is inversely proportional to time and force"], answer: 2 },
            { q: "With sufficient fuel availability, what is the effect of muscle cell oxygen levels on fuel use to produce ATP?", options: ["Elevated oxygen will promote the use of carbohydrates and fatty acids", "Depressed oxygen will promote the use of carbohydrates and fatty acids", "Elevated oxygen will promote the use of proteins", "Depressed oxygen will do little to promote any specific fuel"], answer: 0 },
            { q: "Which of these stimulates an increase in ventilation as exercise begins?", options: ["Decreasing blood pH levels", "Decreasing blood adrenaline levels", "Decreasing blood carbon dioxide levels", "Decreasing blood oxygen levels"], answer: 0 },
            { q: "Maximal oxygen consumption represents the functional capacity of the oxygen transport system. Which person would likely have the highest VO‚ÇÇ max?", options: ["Elite marathon runner", "Chess player", "Novice hiker", "Young weightlifter"], answer: 0 },
            { q: "Which correctly characterizes the relationship between blood acidity levels and ventilation during a sub-maximal training session?", options: ["Blood acidity increases, pH decreases, ventilation increases", "Blood acidity decreases, pH increases, ventilation decreases", "Blood acidity stays low and normal, ventilation increases", "Blood acidity decreases, pH increases, ventilation stays the same"], answer: 0 },
            { q: "Which is an example of the associative stage of learning?", options: ["A gymnast detects and self-corrects movements on a balance beam without external feedback", "A soccer player talks through the steps of a throw-in as they attempt the skill", "A tennis player detects movement of a serve and receives some feedback from a coach", "A basketball player consistently dribbles and evaluates the movement of opponents"], answer: 2 },
            { q: "Which is a characteristic of traditional linear pedagogy?", options: ["Athlete-led learning", "Coach-led learning", "Process-orientated learning", "Coach-athlete collaborative learning"], answer: 1 },
            { q: "Which is a feature of non-linear pedagogy?", options: ["Process-orientated learning", "Content-focused learning", "Coach-led learning", "Coach-orientated learning"], answer: 0 },
            { q: "Which situation is an example of the psychological refractory period (PRP)?", options: ["A defender's reaction is delayed as a player steps to shoot and suddenly changes direction", "Selective attention overreaction causes a false start in a race", "Attention deficit leads to a delayed nerve transmission in a race", "Response time is improved as a player focuses on the ball and reacts quickly"], answer: 0 },
            { q: "What type of skill transfer occurs when a volleyball player successfully performs tennis serves?", options: ["Skill to skill", "Practice to performance", "Stage to stage", "Whole-part-whole"], answer: 0 },
            { q: "What type of skill transfer occurs when a soccer player performs kicking drills as part of their warm-up before a big match?", options: ["Principles to skill", "Skill to skill", "Practice to performance", "Abilities to skill"], answer: 2 },
            { q: "Which transfer occurs when a left-handed tennis player learns to hit with their right hand?", options: ["Skill to skill", "Abilities to skill", "Stage to stage", "Bilateral"], answer: 3 },
            { q: "What is the definition of fatigue?", options: ["A decline in arousal levels during performance", "A reversible, exercise-induced decline in performance", "A negative emotional state associated with performance", "A temporary depletion in energy sources during athletic performance"], answer: 1 },
            { q: "Which metabolic process produces the greatest ATP yield?", options: ["ATP-CP system", "Anaerobic glycolysis", "Krebs cycle", "Electron transport chain"], answer: 3 },
            { q: "A weightlifter stops training for three months due to injury, which results in muscle atrophy. Which principle of training describes this period of time?", options: ["Reversibility", "Progression", "Overload", "Variety"], answer: 0 }
        ];

        let currentQuestionIndex = 0;
        let shuffledQuestions = [];
        let correct = 0;
        let total = 0;
        let streak = 0;
        let answered = false;
        let selectedAnswer = -1;
        const milestoneStreaks = [1, 3, 5, 7, 9, 12, 15, 20, 25, 30, 40, 50];
        const downloadFolders = {
            'Americas cup': 'Americas_cup.png',
            'Calcutta Cup': 'Calcutta_Cup.png',
            'Davis Cup': 'Davis_Cup.png',
            'FIFA': 'FIFA.png',
            'FIVB': 'FIVB.png',
            'Larry O\'Brien': 'Larry_OBrien.png',
            'Olympic gold': 'Olympic_gold.png',
            'Ryder Cup': 'Ryder_Cup.png',
            'Snooker': 'Snooker.png',
            'The Ashes': 'The_Ashes.png',
            'Venus Rosewater': 'Venus_Rosewater.png',
            'Yellow jersey': 'Yellow_jersey.png'
        };

        function shuffleArray(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function initializeQuiz() {
            shuffledQuestions = shuffleArray(allQuestions);
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= shuffledQuestions.length) {
                showFinishScreen();
                return;
            }

            answered = false;
            selectedAnswer = -1;
            const q = shuffledQuestions[currentQuestionIndex];

            let html = `
                <div class="question-container">
                    <div class="question-number">Question ${currentQuestionIndex + 1} of ${shuffledQuestions.length}</div>
                    <div class="question-text">${q.q}</div>
                    <div class="options">
            `;

            q.options.forEach((opt, idx) => {
                html += `<div class="option" onclick="selectAnswer(${idx})">${String.fromCharCode(65 + idx)}. ${opt}</div>`;
            });

            html += `
                    </div>
                    <div class="feedback"></div>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="submitAnswer()">Submit</button>
                        <button class="btn btn-secondary" onclick="nextQuestion()" style="display: none;" id="next-btn">Next Question</button>
                    </div>
                </div>
            `;

            document.getElementById('quiz-content').innerHTML = html;
        }

        function selectAnswer(idx) {
            if (answered) return;
            selectedAnswer = idx;
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.toggle('selected', i === idx);
            });
        }

        function submitAnswer() {
            if (selectedAnswer === -1) return;

            answered = true;
            const q = shuffledQuestions[currentQuestionIndex];
            const isCorrect = selectedAnswer === q.answer;

            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.style.pointerEvents = 'none';
                if (i === q.answer) {
                    opt.classList.add('correct');
                } else if (i === selectedAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                correct++;
                streak++;
                document.querySelector('.feedback').textContent = '‚úì Correct!';
                document.querySelector('.feedback').classList.add('show', 'correct');
            } else {
                streak = 0;
                document.querySelector('.feedback').textContent = '‚úó Incorrect. The correct answer is ' + String.fromCharCode(65 + q.answer);
                document.querySelector('.feedback').classList.add('show', 'incorrect');
            }

            total++;
            updateStats();
            document.getElementById('next-btn').style.display = 'block';
            document.querySelector('.btn-primary').style.display = 'none';
        }

        function nextQuestion() {
            if (milestoneStreaks.includes(streak)) {
                showStreakMilestone();
            } else {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function updateStats() {
            document.getElementById('correct-count').textContent = correct;
            document.getElementById('streak-count').textContent = streak;
            document.getElementById('total-count').textContent = total;
        }

        function showStreakMilestone() {
            const trophies = Object.keys(downloadFolders);
            let downloadHTML = '<div class="download-buttons">';
            
            trophies.forEach((trophy, idx) => {
                const fileName = downloadFolders[trophy];
                const downloadUrl = `https://github.com/yourusername/Trophys/raw/main/${fileName}`;
                downloadHTML += `<a href="${downloadUrl}" class="btn-download" download>${trophy}</a>`;
            });
            downloadHTML += '</div>';

            const html = `
                <div class="streak-milestone">
                    <div class="milestone-icon">üèÜ</div>
                    <div class="milestone-text">Streak of ${streak}!</div>
                    <p style="margin: 0; color: #1F2937; font-size: 14px;">You've achieved ${streak} correct answers in a row!</p>
                    <div class="download-section">
                        <h3>üèÜ Download Trophy Files</h3>
                        ${downloadHTML}
                    </div>
                    <button class="btn btn-primary" onclick="continueLearning()" style="width: 100%; margin-top: var(--spacing-16);">Continue Quiz</button>
                </div>
            `;
            document.getElementById('quiz-content').innerHTML = html;
        }

        function continueLearning() {
            streak = 0;
            updateStats();
            currentQuestionIndex++;
            loadQuestion();
        }

        function showFinishScreen() {
            const percentage = total > 0 ? Math.round((correct / total) * 100) : 0;
            const html = `
                <div class="finish-screen">
                    <h2>Quiz Complete!</h2>
                    <div class="score-display">${correct} / ${total}</div>
                    <p style="color: var(--color-text-secondary); font-size: 18px; margin-bottom: var(--spacing-24);">You scored ${percentage}%</p>
                    <button class="btn btn-primary" onclick="location.reload()">Start Over</button>
                </div>
            `;
            document.getElementById('quiz-content').innerHTML = html;
        }

        // Initialize on page load
        window.addEventListener('load', initializeQuiz);
    </script>
</body>
</html>
